{"version":3,"sources":["../../src/outline/viewAsMbox.ts"],"names":["dom","viewAsMbox","obj","anchor","createElement","address","termType","uri","value","index","indexOf","slice","setAttribute","appendChild","createTextNode"],"mappings":";;;;;;;eAAe,kBAACA,GAAD;AAAA,SAAS,SAASC,UAAT,CAAqBC,GAArB,EAA0B;AAChD,QAAMC,MAAM,GAAGH,GAAG,CAACI,aAAJ,CAAkB,GAAlB,CAAf,CADgD,CAEhD;AAEA;;AAEA,QAAIC,OAAO,GAAGH,GAAG,CAACI,QAAJ,KAAiB,WAAjB,GAA+BJ,GAAG,CAACK,GAAnC,GAAyCL,GAAG,CAACM,KAA3D,CANgD,CAMiB;AACjE;;AACA,QAAMC,KAAK,GAAGJ,OAAO,CAACK,OAAR,CAAgB,SAAhB,CAAd;AACAL,IAAAA,OAAO,GAAGI,KAAK,IAAI,CAAT,GAAaJ,OAAO,CAACM,KAAR,CAAcF,KAAK,GAAG,CAAtB,CAAb,GAAwCJ,OAAlD;AACAF,IAAAA,MAAM,CAACS,YAAP,CAAoB,MAApB,EAA4B,YAAYP,OAAxC;AACAF,IAAAA,MAAM,CAACU,WAAP,CAAmBb,GAAG,CAACc,cAAJ,CAAmBT,OAAnB,CAAnB;AACA,WAAOF,MAAP;AACD,GAbc;AAAA,C","sourcesContent":["export default (dom) => function viewAsMbox (obj) {\n  const anchor = dom.createElement('a')\n  // previous implementation assumed email address was Literal. fixed.\n\n  // FOAF mboxs must NOT be literals -- must be mailto: URIs.\n\n  let address = obj.termType === 'NamedNode' ? obj.uri : obj.value // this way for now\n  // if (!address) return viewAsBoringDefault(obj)\n  const index = address.indexOf('mailto:')\n  address = index >= 0 ? address.slice(index + 7) : address\n  anchor.setAttribute('href', 'mailto:' + address)\n  anchor.appendChild(dom.createTextNode(address))\n  return anchor\n}\n"],"file":"viewAsMbox.js"}