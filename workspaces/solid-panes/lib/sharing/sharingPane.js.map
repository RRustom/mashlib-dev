{"version":3,"sources":["../../src/sharing/sharingPane.ts"],"names":["sharingPane","icon","icons","iconBase","name","label","subject","context","store","session","t","findTypeURIs","ns","ldp","uri","render","dom","noun","getNoun","div","createElement","classList","add","aclControl","preventBrowserDropEvents","appendChild","ACLControlBox5"],"mappings":";;;;;;;AAUA;;AAVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,IAAMA,WAAW,GAAG;AAClBC,EAAAA,IAAI,EAAEC,eAAMC,QAAN,GAAiB,mBADL;AAGlBC,EAAAA,IAAI,EAAE,SAHY;AAKlBC,EAAAA,KAAK,EAAE,eAACC,OAAD,EAAUC,OAAV,EAAsB;AAC3B,QAAMC,KAAK,GAAGD,OAAO,CAACE,OAAR,CAAgBD,KAA9B;AACA,QAAME,CAAC,GAAGF,KAAK,CAACG,YAAN,CAAmBL,OAAnB,CAAV;AACA,QAAII,CAAC,CAACE,YAAGC,GAAH,CAAO,UAAP,EAAmBC,GAApB,CAAL,EAA+B,OAAO,SAAP,CAHJ,CAGqB;;AAChD,QAAIJ,CAAC,CAACE,YAAGC,GAAH,CAAO,WAAP,EAAoBC,GAArB,CAAL,EAAgC,OAAO,SAAP,CAJL,CAIsB;;AACjD,QAAIJ,CAAC,CAACE,YAAGC,GAAH,CAAO,gBAAP,EAAyBC,GAA1B,CAAL,EAAqC,OAAO,SAAP,CALV,CAK2B;AACtD;;AACA,WAAO,IAAP,CAP2B,CAOf;AACb,GAbiB;AAelBC,EAAAA,MAAM,EAAE,gBAACT,OAAD,EAAUC,OAAV,EAAsB;AAC5B,QAAMS,GAAG,GAAGT,OAAO,CAACS,GAApB;AACA,QAAMR,KAAK,GAAGD,OAAO,CAACE,OAAR,CAAgBD,KAA9B;AACA,QAAMS,IAAI,GAAGC,OAAO,EAApB;AAEA,QAAMC,GAAG,GAAGH,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAZ;AACAD,IAAAA,GAAG,CAACE,SAAJ,CAAcC,GAAd,CAAkB,aAAlB;;AACAC,wBAAWC,wBAAX,CAAoCR,GAApC;;AACAG,IAAAA,GAAG,CAACM,WAAJ,CAAgBF,oBAAWG,cAAX,CAA0BpB,OAA1B,EAAmCC,OAAnC,EAA4CU,IAA5C,EAAkDT,KAAlD,CAAhB;AACA,WAAOW,GAAP;;AAEA,aAASD,OAAT,GAAoB;AAClB,UAAMR,CAAC,GAAGF,KAAK,CAACG,YAAN,CAAmBL,OAAnB,CAAV;;AACA,UAAII,CAAC,CAACE,YAAGC,GAAH,CAAO,gBAAP,EAAyBC,GAA1B,CAAD,IAAmCJ,CAAC,CAACE,YAAGC,GAAH,CAAO,WAAP,EAAoBC,GAArB,CAAxC,EAAmE;AACjE,eAAO,QAAP;AACD;;AACD,aAAO,MAAP;AACD;AACF;AAjCiB,CAApB;eAoCed,W","sourcesContent":["/*   Sharing Pane\n **\n ** This outline pane allows a user to view and adjust the sharing -- access control lists\n ** for anything which has that capability.\n **\n ** I am using in places single quotes strings like 'this'\n ** where internationalization (\"i18n\") is not a problem, and double quoted\n ** like \"this\" where the string is seen by the user and so I18n is an issue.\n */\n\nimport { aclControl, icons, ns } from 'solid-ui'\n\nconst sharingPane = {\n  icon: icons.iconBase + 'padlock-timbl.svg',\n\n  name: 'sharing',\n\n  label: (subject, context) => {\n    const store = context.session.store\n    const t = store.findTypeURIs(subject)\n    if (t[ns.ldp('Resource').uri]) return 'Sharing' // @@ be more sophisticated?\n    if (t[ns.ldp('Container').uri]) return 'Sharing' // @@ be more sophisticated?\n    if (t[ns.ldp('BasicContainer').uri]) return 'Sharing' // @@ be more sophisticated?\n    // check being allowed to see/change sharing?\n    return null // No under other circumstances\n  },\n\n  render: (subject, context) => {\n    const dom = context.dom\n    const store = context.session.store\n    const noun = getNoun()\n\n    const div = dom.createElement('div')\n    div.classList.add('sharingPane')\n    aclControl.preventBrowserDropEvents(dom)\n    div.appendChild(aclControl.ACLControlBox5(subject, context, noun, store))\n    return div\n\n    function getNoun () {\n      const t = store.findTypeURIs(subject)\n      if (t[ns.ldp('BasicContainer').uri] || t[ns.ldp('Container').uri]) {\n        return 'folder'\n      }\n      return 'file'\n    }\n  }\n}\n\nexport default sharingPane\n"],"file":"sharingPane.js"}