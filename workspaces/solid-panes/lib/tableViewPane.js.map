{"version":3,"sources":["../src/tableViewPane.js"],"names":["UI","require","module","exports","icon","icons","originalIconBase","name","label","subject","context","store","session","any","undefined","ns","rdf","n","statementsMatching","length","utils","render","myDocument","dom","div","createElement","setAttribute","appendChild","table","tableClass"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA,IAAMA,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,IAAI,EAAEJ,EAAE,CAACK,KAAH,CAASC,gBAAT,GAA4B,WADnB;AAGfC,EAAAA,IAAI,EAAE,cAHS;AAKfC,EAAAA,KAAK,EAAE,eAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AACjC,QAAMC,KAAK,GAAGD,OAAO,CAACE,OAAR,CAAgBD,KAA9B,CADiC,CAEjC;;AACA,QAAI,CAACA,KAAK,CAACE,GAAN,CAAUC,SAAV,EAAqBd,EAAE,CAACe,EAAH,CAAMC,GAAN,CAAU,MAAV,CAArB,EAAwCP,OAAxC,CAAL,EAAuD;AACrD,aAAO,IAAP;AACD;;AACD,QAAMQ,CAAC,GAAGN,KAAK,CAACO,kBAAN,CAAyBJ,SAAzB,EAAoCd,EAAE,CAACe,EAAH,CAAMC,GAAN,CAAU,MAAV,CAApC,EAAuDP,OAAvD,EACPU,MADH;;AAEA,QAAIF,CAAC,KAAK,CAAV,EAAa;AACX;AACA,aAAO,IAAP;AACD;;AACD,QAAIA,CAAC,GAAG,EAAR,EAAY;AACV;AACA,aAAO,IAAP;AACD;;AACD,WAAOjB,EAAE,CAACoB,KAAH,CAASZ,KAAT,CAAeC,OAAf,IAA0B,QAAjC;AACD,GAtBc;AAwBfY,EAAAA,MAAM,EAAE,gBAAUZ,OAAV,EAAmBC,OAAnB,EAA4B;AAClC,QAAMY,UAAU,GAAGZ,OAAO,CAACa,GAA3B;AACA,QAAMC,GAAG,GAAGF,UAAU,CAACG,aAAX,CAAyB,KAAzB,CAAZ;AACAD,IAAAA,GAAG,CAACE,YAAJ,CAAiB,OAAjB,EAA0B,WAA1B;AACAF,IAAAA,GAAG,CAACG,WAAJ,CAAgB3B,EAAE,CAAC4B,KAAH,CAASN,UAAT,EAAqB;AAAEO,MAAAA,UAAU,EAAEpB;AAAd,KAArB,CAAhB;AACA,WAAOe,GAAP;AACD;AA9Bc,CAAjB","sourcesContent":["// Format an array of RDF statements as an HTML table.\n//\n// This can operate in one of three modes: when the class of object is given\n// or when the source document from which data is taken is given,\n// or if a prepared query object is given.\n// (In principle it could operate with neither class nor document\n// given but typically\n// there would be too much data.)\n// When the tableClass is not given, it looks for common  classes in the data,\n// and gives the user the option.\n//\n// 2008 Written, Ilaria Liccardi\n// 2014 core functionality now in common/table.js   -timbl\n\n// ///////////////////////////////////////////////////////////////////\n\n// Table view pane  -- view of a class/\nconst UI = require('solid-ui')\n\nmodule.exports = {\n  icon: UI.icons.originalIconBase + 'table.png',\n\n  name: 'tableOfClass',\n\n  label: function (subject, context) {\n    const store = context.session.store\n    // if (!store.holds(subject, UI.ns.rdf('type'),UI.ns.rdfs('Class'))) return null\n    if (!store.any(undefined, UI.ns.rdf('type'), subject)) {\n      return null\n    }\n    const n = store.statementsMatching(undefined, UI.ns.rdf('type'), subject)\n      .length\n    if (n === 0) {\n      // None, suppress pane\n      return null\n    }\n    if (n > 15) {\n      // @@ At the moment this pane can be slow with too many @@ fixme by using limits\n      return null\n    }\n    return UI.utils.label(subject) + ' table'\n  },\n\n  render: function (subject, context) {\n    const myDocument = context.dom\n    const div = myDocument.createElement('div')\n    div.setAttribute('class', 'tablePane')\n    div.appendChild(UI.table(myDocument, { tableClass: subject }))\n    return div\n  }\n}\n"],"file":"tableViewPane.js"}